"use strict";(self.webpackChunkmagnolia_opd_fe=self.webpackChunkmagnolia_opd_fe||[]).push([[790],{7790:(z,p,l)=>{l.r(p),l.d(p,{RolemanagementRoutingModule:()=>B});var m=l(6697),f=l(9425),r=l(2382),e=l(7587),d=l(8391),c=l(9783),g=l(5330),u=l(9470),h=l(845),x=l(9808),b=l(9993),_=l(5223),v=l(3407),y=l(4036);function C(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"app-list-table",29),e.NdJ("getValue",function(i){return e.CHM(o),e.oxw().partialEvent(i)}),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("checkBox",o.checkBox)("rows",o.rows)("filterField",o.filterField)("calendar",o.calendar)("tableData",o.employeeData)("tableField",o.tableField)}}function Z(t,a){1&t&&(e.TgZ(0,"div",30),e._UZ(1,"img",31),e.qZA())}function w(t,a){1&t&&(e.TgZ(0,"span",32),e._uU(1,"User Details"),e.qZA())}function T(t,a){1&t&&(e.TgZ(0,"span",32),e._uU(1," Edit User Details"),e.qZA())}function I(t,a){1&t&&(e.TgZ(0,"span",35),e._uU(1,"Employee ID is required"),e.qZA())}function P(t,a){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,I,2,0,"span",34),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.form.empId.errors?null:o.form.empId.errors.required)}}function A(t,a){1&t&&(e.TgZ(0,"span",35),e._uU(1,"Name is required"),e.qZA())}function U(t,a){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,A,2,0,"span",34),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.form.name.errors?null:o.form.name.errors.required)}}function M(t,a){1&t&&(e.TgZ(0,"span",38),e._uU(1,"Email is required"),e.qZA())}function F(t,a){1&t&&(e.TgZ(0,"span",39),e._uU(1,"Invalid email address format"),e.qZA())}function N(t,a){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,M,2,0,"span",36),e.YNc(2,F,2,0,"span",37),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.form.email.errors?null:o.form.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.form.email.errors?null:o.form.email.errors.pattern)}}function q(t,a){1&t&&(e.TgZ(0,"span",35),e._uU(1,"Mobile Number is required"),e.qZA())}function R(t,a){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,q,2,0,"span",34),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.form.mobile.errors?null:o.form.mobile.errors.required)}}function O(t,a){1&t&&(e.TgZ(0,"span",35),e._uU(1,"role is required"),e.qZA())}function E(t,a){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,O,2,0,"span",34),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.form.role.errors?null:o.form.role.errors.required)}}const k=[{path:"",component:(()=>{class t{constructor(o,n,i,s,J,D){this.fb=o,this.addrole=n,this.messageService=i,this.confirmService=s,this.dialogService=J,this.addEmployeeService=D,this.show=!1,this.visibleSidebar2=!1,this.import=!1,this.backdrop=!1,this.isUpdate=!1,this.actionColumn=!0,this.calendar=!1,this.filterField=["empId","name","email","role"],this.checkBox="empId",this.visibleHeader=!1,this.buttonClicked=!1,this.showUpdateEntry=!1,this.rows=5,this.noData=!1}ngOnInit(){this.detailsForm=this.fb.group({empId:["",r.kI.required],name:["",r.kI.required],email:["",[r.kI.required,r.kI.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,10}$")]],mobile:["",r.kI.required],address:[""],password:["",r.kI.required],role:["",r.kI.required]}),this.getAllUser(),this.signUpData(),this.tableField=[{field:"empId",header:"Emp ID",type:"text"},{field:"name",header:"Name",type:"text",color:"blue"},{field:"email",header:"Email",type:"text"},{field:"role",header:"Role",type:"text"}],this.companyName=localStorage.getItem("company")}closePartial(){this.show=!0}importemp(){this.import=!0,this.backdrop=!0}closeimport(){this.import=!1,this.backdrop=!1}drug(o){}complaints(o){throw new Error("Method not implemented.")}getAllUser(){this.addrole.getAllUser().subscribe({next:o=>{this.employeeData=o.data,0!=this.employeeData.length&&(this.noData=!0)},error:o=>{}})}signUpData(){this.addEmployeeService.getAllRoleSignUpData().subscribe({next:o=>{this.role=o.data.role,this.userRole=o.data.role},error:o=>{}})}addemp(){this.show=!0,this.detailsForm.reset(),this.buttonClicked=!1,this.isUpdate=!1}partialEvent(o){this.show=!0,this.showUpdateEntry=!1,this.isUpdate=!0,this.emitValue=o,this.detailsForm.controls.empId.setValue(this.emitValue.empId),this.detailsForm.controls.name.setValue(this.emitValue.name),this.detailsForm.controls.email.setValue(this.emitValue.email),this.detailsForm.controls.mobile.setValue(this.emitValue.mobile),this.detailsForm.controls.address.setValue(this.emitValue.address),this.detailsForm.controls.enterprise.setValue(this.emitValue.enterprise),this.detailsForm.controls.password.setValue(this.emitValue.password),this.detailsForm.controls.role.setValue(this.emitValue.role)}addUser(){if(this.detailsForm.invalid)this.detailsForm.markAllAsTouched();else{this.buttonClicked=!0,new FormData;let i=this.detailsForm.value;i.name=i.name.toString(),i.email=i.email.toString(),i.password=i.password.toString(),i.mobile=i.mobile.toString(),i.empId=i.empId.toString(),i.role=i.role.id,i.address=i.address.toString(),this.addrole.addUser(i).subscribe(s=>{s.success?(this.show=!1,this.messageService.add({key:"c",closable:!1,severity:"success",detail:s.message}),this.getAllUser()):(this.buttonClicked=!1,this.messageService.add({key:"c",closable:!1,severity:"error",summary:"Service Message",detail:s.message}),this.getAllUser())})}}confirmation(){this.detailsForm.dirty?this.confirmService.confirm({message:"Are you sure you want to cancel?",accept:()=>{this.show=!1}}):this.show=!1}get form(){return this.detailsForm.controls}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(d.k),e.Y36(c.ez),e.Y36(c.YP),e.Y36(g.xA),e.Y36(d.k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-rolemanagement"]],decls:62,vars:18,consts:[["headerName","Role management"],[1,"bg-color"],[1,"masterBtn"],[1,"header-part"],[2,"font-size","18px"],[1,"header-values"],["label","",1,"roleBtn",3,"click"],[4,"ngIf"],["class","nodata-wrapper",4,"ngIf"],["position","right",1,"roleNav",3,"visible","visibleChange"],["class","userDetail",4,"ngIf"],[1,"row"],["action","",1,"form",3,"formGroup"],[1,"col-12","label-input"],[1,"labelName","required-field"],["maxlength","10","placeholder","Employee ID","type","text","formControlName","empId","pInputText","",1,"inputBox",2,"height","38px"],["class","error-indicator",4,"ngIf"],["maxlength","100","placeholder","Name","formControlName","name","pInputText","",1,"inputBox",2,"height","38px"],["maxlength","100","placeholder","Email","formControlName","email","pInputText","",1,"inputBox",2,"height","38px"],["type","text","maxlength","10","placeholder","Enter mobile Number","type","number","onKeyPress","if(this.value.length==10) return false;","formControlName","mobile","pInputText","",1,"inputBox",2,"height","38px"],[1,"label-input"],["for","",1,"labelName"],["type","text","placeholder","Address","formControlName","address","pInputTextarea","",1,"inputBox","address",3,"rows","cols","autoResize"],["type","password","placeholder","Password","formControlName","password","pInputText","",1,"inputBox"],["maxlength","100","readonly","","pInputText","",1,"inputBox",2,"height","38px",3,"placeholder"],["formControlName","role","placeholder","Select","optionLabel","role","filterBy","role",1,"dropdown",3,"options","filter","showClear"],[1,"formFooter"],["type","button",1,"btn","btn-outline-primary","cancelBtn",3,"click"],["type","button","id","btn-mr-submit",1,"btn","btn-primary","saveBtn",3,"click"],["showPartial","true",1,"roleTable",3,"checkBox","rows","filterField","calendar","tableData","tableField","getValue"],[1,"nodata-wrapper"],["src","../../../../assets/homeimages/nodatanew.svg","alt","No data"],[1,"userDetail"],[1,"error-indicator"],["id","pass",4,"ngIf"],["id","pass"],["id","req",4,"ngIf"],["id","InVemail",4,"ngIf"],["id","req"],["id","InVemail"]],template:function(o,n){1&o&&(e._UZ(0,"app-header",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),e._uU(5,"Role Management"),e.qZA()(),e.TgZ(6,"div",5)(7,"div")(8,"p-button",6),e.NdJ("click",function(){return n.addemp()}),e._uU(9,"+ Add Users"),e.qZA()()()(),e.YNc(10,C,2,6,"div",7),e.YNc(11,Z,2,0,"div",8),e.qZA(),e.TgZ(12,"p-sidebar",9),e.NdJ("visibleChange",function(s){return n.show=s}),e.YNc(13,w,2,0,"span",10),e.YNc(14,T,2,0,"span",10),e.TgZ(15,"div")(16,"div",11)(17,"form",12)(18,"div",13)(19,"label",14),e._uU(20,"Employee ID"),e.qZA(),e._UZ(21,"input",15),e.YNc(22,P,2,1,"div",16),e.qZA(),e.TgZ(23,"div",13)(24,"label",14),e._uU(25,"Name"),e.qZA(),e._UZ(26,"input",17),e.YNc(27,U,2,1,"div",16),e.qZA(),e.TgZ(28,"div",13)(29,"label",14),e._uU(30,"Email"),e.qZA(),e._UZ(31,"input",18),e.YNc(32,N,3,2,"div",16),e.qZA(),e.TgZ(33,"div",13)(34,"label",14),e._uU(35,"Mobile"),e.qZA(),e.TgZ(36,"div"),e._UZ(37,"input",19),e.YNc(38,R,2,1,"div",16),e.qZA()(),e.TgZ(39,"div",20)(40,"label",21),e._uU(41,"Address"),e.qZA(),e.TgZ(42,"div"),e._UZ(43,"textarea",22),e.qZA()(),e.TgZ(44,"div",13)(45,"label",14),e._uU(46,"Password"),e.qZA(),e._UZ(47,"input",23),e.qZA(),e.TgZ(48,"div",13)(49,"label",14),e._uU(50,"Select Enterprises"),e.qZA(),e._UZ(51,"input",24),e.qZA(),e.TgZ(52,"div",20)(53,"label",14),e._uU(54,"Role"),e.qZA(),e._UZ(55,"p-dropdown",25),e.YNc(56,E,2,1,"div",16),e.qZA()()(),e.TgZ(57,"div",26)(58,"button",27),e.NdJ("click",function(){return n.confirmation()}),e._uU(59,"Cancel"),e.qZA(),e.TgZ(60,"button",28),e.NdJ("click",function(){return n.addUser()}),e._uU(61,"Save"),e.qZA()()()()),2&o&&(e.xp6(10),e.Q6J("ngIf",n.noData),e.xp6(1),e.Q6J("ngIf",!n.noData),e.xp6(1),e.Q6J("visible",n.show),e.xp6(1),e.Q6J("ngIf",!n.isUpdate),e.xp6(1),e.Q6J("ngIf",n.isUpdate),e.xp6(3),e.Q6J("formGroup",n.detailsForm),e.xp6(5),e.Q6J("ngIf",(n.form.empId.dirty||n.form.empId.touched)&&n.form.empId.invalid),e.xp6(5),e.Q6J("ngIf",(n.form.name.dirty||n.form.name.touched)&&n.form.name.invalid),e.xp6(5),e.Q6J("ngIf",(n.form.email.dirty||n.form.email.touched)&&n.form.email.invalid),e.xp6(6),e.Q6J("ngIf",(n.form.mobile.dirty||n.form.mobile.touched)&&n.form.mobile.invalid),e.xp6(5),e.Q6J("rows",3)("cols",47)("autoResize",!0),e.xp6(8),e.s9C("placeholder",n.companyName),e.xp6(4),e.Q6J("options",n.userRole)("filter",!0)("showClear",!0),e.xp6(1),e.Q6J("ngIf",(n.form.role.dirty||n.form.role.touched)&&n.form.role.invalid))},directives:[u.G,h.zx,x.O5,b.z,_.Y,r._Y,r.JL,r.sg,r.Fj,r.nD,r.JJ,r.u,r.wV,v.g,y.Lt],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap";@import"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap";#inci-Name[_ngcontent-%COMP%]{border:1px solid #cccccc!important;width:450px!important}p[_ngcontent-%COMP%]{font-size:12px}p.topic[_ngcontent-%COMP%]{font-weight:600}p.importantNote[_ngcontent-%COMP%]{font-weight:600;color:#ea4c89}.header-part[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600;line-height:0px;color:#0d0c22}.header-values[_ngcontent-%COMP%]{display:flex!important}#uplodeBtn[_ngcontent-%COMP%]   button.p-ripple.p-element.p-button.p-component[_ngcontent-%COMP%]{width:145px;height:32px;background:#EA4C89!important;border-radius:2px;font-family:Poppins;font-style:normal;font-weight:500;font-size:13px;line-height:20px;text-align:center;color:#fff;border:none}.form-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}button.p-element.p-button-outlined.p-button-warning.p-button.p-component[_ngcontent-%COMP%]{width:120px!important;height:32px;background:#FFFFFF;border:1px solid #CCD2E3;box-shadow:0 2px 4px #0000001a;border-radius:2px;font-family:Poppins;font-style:normal;font-weight:500;font-size:13px;line-height:20px;text-align:center;color:#6e6d7a}.employeePage[_ngcontent-%COMP%]{padding-top:19px}.inputBox[_ngcontent-%COMP%]{width:470px;height:38px;background:white;border:1px solid #E9E9E9;border-radius:3px;font-family:Poppins;font-style:normal;font-weight:500;font-size:13px;line-height:20px;color:#0d0c22;margin-top:4px;padding-left:8px}input.inputBox[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #bfdbfe;border-color:#3b82f6}.contact-emergency[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.contactNum[_ngcontent-%COMP%]{width:220px;height:38px;background:#ffffff;border:1px solid #E9E9E9;border-radius:3px;font-family:Poppins;font-style:normal;font-weight:400;font-size:13px;line-height:20px;color:#0d0c22;padding-left:8px;margin-top:5px}.dob[_ngcontent-%COMP%]{width:220px;height:38px;background:#ffffff;border:1px solid #E9E9E9;border-radius:3px;font-family:Poppins;font-style:normal;font-weight:400;font-size:13px;line-height:20px;color:#0d0c22;margin-top:5px}.dob-gender[_ngcontent-%COMP%]{display:flex}.gender[_ngcontent-%COMP%]{margin-left:36px}.checkBox[_ngcontent-%COMP%]{display:flex;margin-top:8px}.genderVal[_ngcontent-%COMP%]{padding-left:5px;font-family:Poppins;font-style:normal;font-weight:400;font-size:13px;line-height:20px;color:#3d3d4e}.bloodGrp[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.bloodGrpBtn[_ngcontent-%COMP%]{margin-right:40px}.bloodLbl[_ngcontent-%COMP%]{padding-left:12px;font-family:Poppins;font-style:normal;font-weight:400;font-size:13px;line-height:20px;color:#3d3d4e}.formFooter[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;margin-top:20px;background-color:#fff;position:sticky;bottom:0;right:0;padding-bottom:20px;border-top:1px solid #E9E9E9}.cancelBtn[_ngcontent-%COMP%]{padding:0 20px;width:96px;height:32px;background:#F3F3F4;box-shadow:0 2px 4px #0000001a;border-radius:2px;border:#F3F3F4;margin-top:25px}.saveBtn[_ngcontent-%COMP%]{padding:0 20px;width:96px;height:32px;background:#EA4C89;box-shadow:0 2px 4px #0000001a;border-radius:2px;border:#F3F3F4;margin-top:25px;margin-left:25px}.label-input[_ngcontent-%COMP%]{margin-top:16px}.labelName[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:400;font-size:12px;line-height:18px;color:#0d0c22}input.inputBox[_ngcontent-%COMP%]::placeholder{font-family:Poppins;font-style:normal;font-weight:400!important;font-size:12px;line-height:20px;color:#a29e9e}.contactNum[_ngcontent-%COMP%]::placeholder{font-family:Poppins;font-style:normal;font-weight:400!important;font-size:13px;line-height:20px;color:#a29e9e}.userDetail[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:14px;line-height:20px;color:#0d0c22}.required-field[_ngcontent-%COMP%]:after{content:"*";color:red;font-size:12px}.addempBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-right:33px}.addBtn[_ngcontent-%COMP%]{margin-top:14px}.employeeHead[_ngcontent-%COMP%]{padding-left:80px;padding-top:8px;font-family:Poppins;font-style:normal;font-weight:600;font-size:18px;line-height:27px;color:#0d0c22}input.inputBox[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#e9e9e9}']}),t})(),canActivate:[f.a]}];let B=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(k)],m.Bz]}),t})()}}]);